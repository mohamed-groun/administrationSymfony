{% extends 'base.html.twig' %}

{% block body %}

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <link href="    https://cdnjs.cloudflare.com/ajax/libs/bootstrap-tagsinput/0.8.0/bootstrap-tagsinput.css" rel="stylesheet" />

        <div class="col-12">
        <div class="card">
        <div class="card-body">
        <h4 class="card-title">Data production</h4>


            <a href="{{ path('clients_new') }}"><input type="button"  class="btn btn-primary" value="Create a new clients" style="cursor: pointer;"/></a>
        
<div class="table-responsive m-t-40">
<table id="example23" class="display nowrap table table-hover table-striped table-bordered" cellspacing="0" width="100%">
        <thead>
            <tr>
                <th>Id</th>
                <th>logo</th>
                <th>Nom</th>
                <th>Ref</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        {% for client in clients %}
            <tr>
                <td><a>{{ client.id }}</a></td>
               <td> <a href="javascript:void(0)"><img src="/gallery/{{ client.url }}" alt=" client " width="80" height="60px"> </a></td>
                <td>{{ client.nomc }}</td>
                <td>   <input type="text" value="{{ client.type| join(',') }}" data-role="tagsinput" ></td>
               <td>
                <div class="label label-table label-success">
                <a href="{{ path('clients_edit', { 'id': client.id }) }}" style="font-size: 14px;color: #f3ecea;">edit</a></div>
                </td>
            </tr>
        {% endfor %}
        </tbody>
</table>

</div>
</div>
</div>
</div>

<!-- ============================================================== -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-tagsinput/0.8.0/bootstrap-tagsinput.min.js"></script>
<!-- end - This is for export functionality only -->
<script>
$(function() {
$('#myTable').DataTable();
$(function() {
var table = $('#example').DataTable({
"columnDefs": [{
"visible": false,
"targets": 2
}],
"order": [
[2, 'asc']
],
"displayLength": 25,
"drawCallback": function(settings) {
var api = this.api();
var rows = api.rows({
page: 'current'
}).nodes();
var last = null;
api.column(2, {
page: 'current'
}).data().each(function(group, i) {
if (last !== group) {
$(rows).eq(i).before('<tr class="group"><td colspan="5">' + group + '</td></tr>');
last = group;
}
    });
    }
        });
        // Order by the grouping
        $('#example tbody').on('click', 'tr.group', function() {
        var currentOrder = table.order()[0];
        if (currentOrder[0] === 2 && currentOrder[1] === 'asc') {
        table.order([2, 'desc']).draw();
        } else {
        table.order([2, 'asc']).draw();
        }
        });
    });
});
$('#example23').DataTable({
dom: 'Bfrtip',
buttons: [
'excel', 'pdf', 'print'
]
});
$('.buttons-print, .buttons-pdf, .buttons-excel').addClass('btn btn-primary mr-1');
</script>



{% endblock %}
